# Basic

- 数据库(DataBase, 简称 DB): 信息的集合或者说数据库是由数据库管理系统管理的数据的集合
- 数据库管理系统(DataBase Management System, 简称 DBMS): 一种操纵和管理数据库的软件, 通常用于建立, 使用和维护数据库
- 数据库系统(DataBase System, 简称 DBS): 通常由软件, 数据库和数据管理员(DBA)组成
- 数据库管理员(DataBase Administrator, 简称 DBA): 全面管理和控制数据库系统

# Key Word

- 关系: 关系是一张表
- 关系模型： 用二维表格结构表示实体集，外键表示实体间练习的数据模型称为关系模型。关系模型是由若干个关系模式组成的。
- 关系模式：关系模式实际上就是记录类型。包括：模式名，属性名，值域名以及模式的主键。关系模式仅是对数据特性的描述。
- 关系实例：即使一个关系，即一张二维表格。
- 域：在关系中，每一个属性都有一个取值范围，称为属性的值域。
- 元组：在关系中，记录称为元组, 关系数据库中的基本概念, 关系是一张表, 表中的每行(即数据库中的每条记录)即使一个元组, 每列就是一个属性
- 码: 能唯一标识实体的属性, 对应表中的列
- 主码：也称为主键, 用户选作元组标识的一个候选码为主码。一个实体集中只能有一个主码, 但是可以有多个候选码
- 外码: 也称之为外键, 如果一个关系中的一个属性是另外一个关系中的主码则这个属性为外码. 关系中的某一属性或属性组的值能唯一的标识一个元组，而其任何、子集都不能再标识，则称该属性组为候选码。例如：在学生实体中，“学号”是能唯一的区分学生实体的，同时又假设“姓名”、“班级”的属性组合足以区分学生实体，那么{学号}和{姓名，班级}都是候选码。
- 候选码：在关系中标识元组的属性集称为关系模式的候选码。
- 主属性 ： 候选码中出现过的属性称为主属性。比如关系 工人（工号，身份证号，姓名，性别，部门）. 显然工号和身份证号都能够唯一标示这个关系，所以都是候选码。工号、身份证号这两个属性就是主属性。如果主码是一个属性组，那么属性组中的属性都是主属性。
- 非主属性： 不包含在任何一个候选码中的属性称为非主属性。比如在关系——学生（学号，姓名，年龄，性别，班级）中，主码是“学号”，那么其他的“姓名”、“年龄”、“性别”、“班级”就都可以称为非主属性。

- DDL(Data Definition Language): DDL 允许用户定义数据，也就是创建表、删除表、修改表结构这些操作。通常，DDL 由数据库管理员执行。

- DML(Data Manipulation Language): DML 为用户提供添加、删除、更新数据的能力，这些是应用程序对数据库的日常操作。

- DQL(Data Query Language): DQL 允许用户查询数据，这也是通常最频繁的数据库日常操作。

数据库范式

- 1NF(第一范式): 属性（对应于表中的字段）不能再被分割，也就是这个字段只能是一个值，不能再分为多个其他的字段了。1NF 是所有关系型数据库的最基本要求 ，也就是说关系型数据库中创建的表一定满足第一范式。
- 2NF(第二范式): 2NF 在 1NF 的基础之上，消除了非主属性对于码的部分函数依赖。如下图所示，展示了第一范式到第二范式的过渡。第二范式在第一范式的基础上增加了一个列，这个列称为主键，非主属性都依赖于主键。

# Question

## delete, drop, truncate 区别

- delete 和 truncate 仅仅删除表数据，drop 表数据和结构一起删除
- delete 是 DML 语句，操作完以后如果没有不想提交的事务还可以回滚，truncate 和 drop 是 DDL 语句，操作完马上生效，不能回滚
- 执行速度上：drop > truncate > delete

## select from where 的操作顺序

from -> where -> select

## 数据库和缓存的读写顺序

说到数据库和缓存的读写顺序，最经典的方案就是这个所谓的 Cache Aside Pattern 了。其实这个方案一点也不高大上，基本上我们平时都在用，只是未必知道名字而已，下面简单介绍一下这个方案的思路：

1. 失效：程序先从缓存中读取数据，如果没有命中，则从数据库中读取，成功之后将数据放到缓存中
2. 命中：程序先从缓存中读取数据，如果命中，则直接返回
3. 更新：程序先更新数据库，在删除缓存
